extends layout

block content
  .container.mt-4
    a.btn.btn-outline-secondary.mb-3(href="/eventos")
      i.bi.bi-arrow-left-circle.me-1
      | Volver a eventos

    h2 Chat del evento: #{evento.nombre}
    p.text-muted Fecha: #{evento.fechaFormateada}

    // ocultos para JS
    input(type="hidden" id="eventoId" value=evento.id)
    if user
      input(type="hidden" id="usuarioNombre" value=user.username)
      input(type="hidden" id="usuarioRol" value=user.rol)

    .card.mt-3
      .card-body
        #mensajes(style="height:300px; overflow-y:auto; border:1px solid #dee2e6; padding:10px;")
        form#formMensaje.mt-3
          .input-group
            input#inputMensaje.form-control(type="text" placeholder="Escrib√≠ tu mensaje..." autocomplete="off")
            button.btn.btn-primary(type="submit") Enviar
  // incluye cliente, socket.io y chat script
  script(src="/socket.io/socket.io.js")
  script(src="/js/chat.js")
