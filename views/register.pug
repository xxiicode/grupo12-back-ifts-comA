extends layout

block content
  .row.justify-content-center
    .col-md-8
      .card.shadow-lg.p-4
        h2.text-center.mb-4 Registrar nuevo usuario

        if error
          .alert.alert-danger(role="alert") #{error}

        if success
          .alert.alert-success(role="alert") #{success}

        form(action="/auth/register" method="post")
          .row.g-3
            .col-md-4
              label.form-label(for="username") Usuario
              input.form-control#username(type="text" name="username" required)

            .col-md-4
              label.form-label(for="password") Contraseña
              input.form-control#password(type="password" name="password" required)

            .col-md-4
              label.form-label(for="nombre") Nombre completo
              input.form-control#nombre(type="text" name="nombre")

            .col-md-4
              label.form-label(for="dni") DNI
              input.form-control#dni(type="text" name="dni")

            .col-md-4
              label.form-label(for="email") Email
              input.form-control#email(type="email" name="email")

            .col-md-4
              label.form-label(for="telefono") Teléfono
              input.form-control#telefono(type="text" name="telefono")

            .col-md-6
              label.form-label(for="rol") Rol
              select.form-select#rol(name="rol" required)
                option(value="") Seleccionar rol

                //  roles
                case user.rol
                  when "admin"
                    option(value="admin") Administrador
                    option(value="coordinador") Coordinador
                    option(value="asistente") Asistente
                    option(value="cliente") Cliente
                  when "coordinador"
                    option(value="asistente") Asistente
                    option(value="cliente") Cliente
                  default
                    // No agregar opciones extra

          .mt-3.d-flex.justify-content-between
            a.btn.btn-outline-secondary(href="/") Cancelar
            button.btn.btn-success(type="submit") Crear usuario
